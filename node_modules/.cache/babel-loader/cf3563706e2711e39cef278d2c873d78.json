{"ast":null,"code":"var _jsxFileName = \"c:\\\\wamp64\\\\www\\\\discord-clone\\\\src\\\\Sidebar.js\";\nimport React, { useEffect, useState } from 'react';\nimport './Sidebar.css';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport AddIcon from '@material-ui/icons/Add';\nimport SidebarChannel from './SidebarChannel';\nimport SignalCellularAltIcon from '@material-ui/icons/SignalCellularAlt';\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\nimport CallIcon from '@material-ui/icons/Call';\nimport MicIcon from '@material-ui/icons/Mic';\nimport HeadsetIcon from '@material-ui/icons/Headset';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport { Avatar } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport { selectUser } from './features/userSlice';\nimport db, { auth } from './firebase';\n\nfunction Sidebar() {\n  const user = useSelector(selectUser);\n  const [channels, setChannels] = useState([]); //Chaque refresh est appelé une fois et à chaque changement/action si un changement dans channels (snapshot) on maj le state channels, setChannels\n  //id du doc et data (destructure apres), ici une seule data : channelName\n\n  useEffect(() => {\n    db.collection('channels').onSnapshot(snapshot => setChannels(snapshot.docs.map(doc => ({\n      id: doc.id,\n      channel: doc.data()\n    }))));\n  }, []); //Si clique sur ajouter channel on ajoute dans la collection channels\n\n  const handleAddChannel = () => {\n    const channelName = prompt(\"Enter a new channel name : \"); //Le premier nom de l'attribut ds firebase le 2eme celui qu'on passe en param\n\n    if (channelName) {\n      db.collection('channels').add({\n        channelName: channelName\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, \"Ma room\"), /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__channels\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__channelsHeader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(ExpandMoreIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, \"Text channels\")), /*#__PURE__*/React.createElement(AddIcon, {\n    onClick: handleAddChannel,\n    className: \"sidebar__addChannel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__channelsList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, channels.map(({\n    id,\n    channel\n  }) => /*#__PURE__*/React.createElement(SidebarChannel, {\n    key: id,\n    id: id,\n    channelName: channel.channelName,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__voice\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(SignalCellularAltIcon, {\n    className: \"sidebar__voiceIcon\",\n    fontSize: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__voiceInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, \"Voix connect\\xE9e\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, \"Stream\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__voiceIcons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(InfoOutlinedIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(CallIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Avatar, {\n    src: user.photo,\n    onClick: () => auth.signOut(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__profileInfo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, user.displayName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 21\n    }\n  }, \"#\", user.uid.substring(0, 6))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sidebar__profileIcons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(MicIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(HeadsetIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(SettingsIcon, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }))));\n}\n\nexport default Sidebar;","map":{"version":3,"sources":["c:/wamp64/www/discord-clone/src/Sidebar.js"],"names":["React","useEffect","useState","ExpandMoreIcon","AddIcon","SidebarChannel","SignalCellularAltIcon","InfoOutlinedIcon","CallIcon","MicIcon","HeadsetIcon","SettingsIcon","Avatar","useSelector","selectUser","db","auth","Sidebar","user","channels","setChannels","collection","onSnapshot","snapshot","docs","map","doc","id","channel","data","handleAddChannel","channelName","prompt","add","photo","signOut","displayName","uid","substring"],"mappings":"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","sourcesContent":["import React, { useEffect , useState} from 'react'\r\nimport './Sidebar.css';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport AddIcon from '@material-ui/icons/Add';  \r\nimport SidebarChannel from './SidebarChannel';\r\nimport SignalCellularAltIcon from '@material-ui/icons/SignalCellularAlt';\r\nimport InfoOutlinedIcon from '@material-ui/icons/InfoOutlined';\r\nimport CallIcon from '@material-ui/icons/Call';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport HeadsetIcon from '@material-ui/icons/Headset';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { Avatar } from '@material-ui/core';\r\nimport { useSelector } from 'react-redux';\r\nimport { selectUser } from './features/userSlice';\r\nimport db, {auth} from './firebase';\r\n\r\nfunction Sidebar() {\r\n\r\n    const user = useSelector(selectUser);\r\n\r\n    const [channels, setChannels] = useState([]);\r\n\r\n    //Chaque refresh est appelé une fois et à chaque changement/action si un changement dans channels (snapshot) on maj le state channels, setChannels\r\n    //id du doc et data (destructure apres), ici une seule data : channelName\r\n    useEffect(() => {\r\n        db.collection('channels').onSnapshot(snapshot => (\r\n            setChannels(snapshot.docs.map(doc => ({\r\n                id:doc.id,\r\n                channel:doc.data(),\r\n            })))\r\n        ))\r\n    }, []);\r\n\r\n\r\n    //Si clique sur ajouter channel on ajoute dans la collection channels\r\n    const handleAddChannel = () => {\r\n        const channelName = prompt(\"Enter a new channel name : \");\r\n\r\n        //Le premier nom de l'attribut ds firebase le 2eme celui qu'on passe en param\r\n        if(channelName){\r\n            db.collection('channels').add({\r\n                channelName:channelName,\r\n            })\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"sidebar\">\r\n\r\n            <div className=\"sidebar__top\">\r\n                <h3>Ma room</h3>\r\n                <ExpandMoreIcon></ExpandMoreIcon>\r\n            </div>\r\n\r\n            <div className=\"sidebar__channels\">\r\n                <div className=\"sidebar__channelsHeader\">\r\n                    <div className=\"sidebar__header\">\r\n                        <ExpandMoreIcon></ExpandMoreIcon>\r\n                        <h4>Text channels</h4>\r\n                    </div>\r\n                    <AddIcon onClick={handleAddChannel} className=\"sidebar__addChannel\"></AddIcon>\r\n                </div>\r\n                <div className=\"sidebar__channelsList\">\r\n\r\n                    {channels.map(({id, channel} )=> (\r\n                        <SidebarChannel key={id} id={id} channelName={channel.channelName}/>   \r\n                    ))}\r\n                    {/*channelNam et channelName dans firebase*/}\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"sidebar__voice\">\r\n                <SignalCellularAltIcon className=\"sidebar__voiceIcon\" fontSize=\"large\"/>\r\n                <div className=\"sidebar__voiceInfo\">\r\n                    <h4>Voix connectée</h4>\r\n                    <p>Stream</p>\r\n                </div>\r\n\r\n                <div className=\"sidebar__voiceIcons\">\r\n                    <InfoOutlinedIcon></InfoOutlinedIcon>\r\n                    <CallIcon></CallIcon>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div className=\"sidebar__profile\">\r\n                <Avatar src={user.photo} onClick={() => auth.signOut()}></Avatar>\r\n                <div className=\"sidebar__profileInfo\">\r\n                    <h3>{user.displayName}</h3>\r\n                    <p>#{user.uid.substring(0,6)}</p>\r\n                </div>\r\n\r\n                <div className=\"sidebar__profileIcons\">\r\n                    <MicIcon/>\r\n                    <HeadsetIcon/>\r\n                    <SettingsIcon/>\r\n                </div>\r\n            </div>\r\n\r\n            \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar;\r\n"]},"metadata":{},"sourceType":"module"}